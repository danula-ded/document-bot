# Тема: Бот для документа-хранения 

## Задание:
   - пользователь для который будет управлять документами
   - меню
     - добавить документ 
       - после нажатия диалог с помощью которого можно добавить тип документа, его название
     - показать документы
       - первым на выбор идут типы документов (в разрезе типа может быть много объектов)
       - после нажатия на тип, сам выбор документа

## Требования к проекту: 
- Упаковка проекта в докер-компоуз и запуск через docker compose up без дополнительной настройки
- Два формата запуска - через polling и через webhook
- прохождение flake8 + mypy в соответствии с конфигурациями проекта
- Стейт отдельный под каждого пользователя
- Без доступа к бд в сервисе aiogram (с бд работает только консюмер(exchange))
- Метрики: 
  - Время выполнения всех интеграционных методов (запросы на бекенд и телеграм)
  - Иметь свой декоратор для обертки таких методов. Использовать Histogram для подсчета времени
  - Сделать свою middleware для подсчета rps на сервис
  - Сделать счетчик отправленных из бота сообщений в очередь и полученных сообщений консумером 
- Настройки в env
- Без дублирования кода
- poetry как сборщик пакетов
- Обработка ошибок и соответствующие ответы от бота
- Обработка флуда
- В README.md ожидается увидеть как что работает, чтобы можно было ознакомиться проще с проектом
- Сквозное логирование
- Если в сервисе используется хранилище s3(minio), то для этого сделать отдельную ручку. Можно использовать nginx
- Обратить внимание на индексацию в моделях, подумать об unique_constraint

## Архитекртура проекта:
      (сохраняет статус в redis)
телеграмм => бекенд => aiogram => rabbitmq => s3(minio)
  (через пуллинг или вебхук)
                      (сохраняем )  
на всех этапах должно быть сохранено логирование и метрики написанные на промитеусе 